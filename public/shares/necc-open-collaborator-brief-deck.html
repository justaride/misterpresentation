<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>NECC | Circular Construction Brief Deck</title>
    <meta
      name="description"
      content="Short NECC project deck for potential strategic and technical collaborators."
    />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,500;1,500&family=Geist+Mono:wght@400;600&family=Manrope:wght@400;500;700&family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
    <link
      rel="icon"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' rx='12' fill='%2307111f'/%3E%3Ccircle cx='18' cy='22' r='4' fill='%2345d4ff'/%3E%3Ccircle cx='32' cy='32' r='4' fill='%23ffbf66'/%3E%3Ccircle cx='46' cy='20' r='4' fill='%2371e6c4'/%3E%3Cpath d='M18 22l14 10 14-12' stroke='%23cde6ff' stroke-width='2' fill='none'/%3E%3C/svg%3E"
    />
    <style>
      html,
      body {
        height: 100%;
        overflow-x: hidden;
      }

      html {
        scroll-snap-type: y mandatory;
        scroll-behavior: smooth;
        background: #040810;
      }

      :root {
        --bg-deep: #040810;
        --bg-mid: #0a1428;
        --bg-soft: #12203a;
        --ink-bright: #f6f9ff;
        --ink-body: #d9e4f3;
        --ink-muted: #9caec8;
        --ink-soft: #7c90aa;
        --accent-cyan: #00e5ff;
        --accent-amber: #f6ad55;
        --accent-green: #48bb78;
        --accent-rose: #f56565;
        --accent-violet: #a78bfa;
        --active-accent: var(--accent-cyan);

        --font-display: "Outfit", sans-serif;
        --font-body: "Manrope", sans-serif;
        --font-serif: "Cormorant Garamond", serif;
        --font-mono: "Geist Mono", monospace;

        --title-size: clamp(2.3rem, 6.8vw, 5.4rem);
        --h2-size: clamp(1.85rem, 4.6vw, 3.55rem);
        --h3-size: clamp(1.3rem, 2.6vw, 2rem);
        --body-size: clamp(0.98rem, 1.05vw, 1.18rem);
        --small-size: clamp(0.68rem, 0.88vw, 0.86rem);

        --slide-padding: clamp(1.1rem, 4.2vw, 4.8rem);
        --content-gap: clamp(0.9rem, 1.65vw, 1.8rem);
        --element-gap: clamp(0.6rem, 1.25vw, 1.2rem);

        --card-bg: color-mix(in srgb, #0d1b32 80%, transparent);
        --card-border: rgba(255, 255, 255, 0.13);
        --card-shadow: 0 16px 42px rgba(0, 0, 0, 0.45);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        color: var(--ink-bright);
        font-family: var(--font-body);
        line-height: 1.45;
        background: var(--bg-deep);
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
      }

      #constellation {
        position: fixed;
        inset: 0;
        width: 100vw;
        height: 100dvh;
        z-index: 0;
        pointer-events: none;
        opacity: 0.95;
      }

      #bloom-layer {
        position: fixed;
        inset: 0;
        width: 100vw;
        height: 100dvh;
        z-index: 0;
        pointer-events: none;
        filter: blur(12px);
        opacity: 0.28;
        mix-blend-mode: screen;
      }

      main {
        position: relative;
        z-index: 1;
      }

      .slide {
        width: 100vw;
        height: 100vh;
        height: 100dvh;
        overflow: hidden;
        scroll-snap-align: start;
        display: flex;
        position: relative;
        isolation: isolate;
      }

      .slide::before {
        content: "";
        position: absolute;
        inset: 0;
        pointer-events: none;
        z-index: -2;
      }

      .slide::after {
        content: "";
        position: absolute;
        inset: 0;
        pointer-events: none;
        z-index: -1;
        background:
          linear-gradient(130deg, rgba(255, 255, 255, 0.05) 0%, transparent 30%),
          radial-gradient(circle at 85% 82%, rgba(255, 255, 255, 0.03) 0%, transparent 55%);
        mix-blend-mode: soft-light;
      }

      [data-slide-theme="hero"]::before {
        background:
          radial-gradient(circle at 18% 14%, rgba(0, 229, 255, 0.18) 0%, transparent 58%),
          radial-gradient(circle at 83% 20%, rgba(72, 187, 120, 0.14) 0%, transparent 48%),
          linear-gradient(165deg, #03070f 0%, #0a1428 65%, #061324 100%);
      }

      [data-slide-theme="data"]::before {
        background:
          radial-gradient(circle at 12% 28%, rgba(246, 173, 85, 0.14) 0%, transparent 52%),
          radial-gradient(circle at 90% 76%, rgba(245, 101, 101, 0.12) 0%, transparent 45%),
          linear-gradient(155deg, #0d162a 0%, #050c19 100%);
      }

      [data-slide-theme="aspiration"]::before {
        background:
          radial-gradient(circle at 24% 20%, rgba(72, 187, 120, 0.15) 0%, transparent 56%),
          radial-gradient(circle at 80% 80%, rgba(0, 229, 255, 0.1) 0%, transparent 44%),
          linear-gradient(148deg, #07101f 0%, #0d1a2f 100%);
      }

      [data-slide-theme="blueprint"]::before {
        background:
          linear-gradient(rgba(0, 229, 255, 0.06) 1px, transparent 1px),
          linear-gradient(90deg, rgba(0, 229, 255, 0.06) 1px, transparent 1px),
          linear-gradient(160deg, #071224 0%, #131f35 100%);
        background-size: 42px 42px, 42px 42px, 100% 100%;
      }

      [data-slide-theme="narrative"]::before {
        background:
          radial-gradient(circle at 10% 60%, rgba(72, 187, 120, 0.11) 0%, transparent 43%),
          linear-gradient(102deg, #050a14 0%, #0d1930 55%, #0b1428 100%);
      }

      [data-slide-theme="architecture"]::before {
        background:
          radial-gradient(circle at 68% 24%, rgba(245, 101, 101, 0.1) 0%, transparent 44%),
          linear-gradient(180deg, #03060f 0%, #0a1324 100%);
      }

      [data-slide-theme="dialogue"]::before {
        background:
          radial-gradient(circle at 48% 28%, rgba(167, 139, 250, 0.17) 0%, transparent 53%),
          linear-gradient(155deg, #0d0a1f 0%, #071021 100%);
      }

      [data-slide-theme="closing"]::before {
        background:
          radial-gradient(circle at 50% 36%, rgba(0, 229, 255, 0.18) 0%, transparent 62%),
          linear-gradient(180deg, #060a14 0%, #010307 100%);
      }

      .slide-content {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        width: min(1440px, 100%);
        margin-inline: auto;
        max-height: 100%;
        overflow: hidden;
        padding: var(--slide-padding);
        gap: var(--content-gap);
        animation: slide-in 0.85s cubic-bezier(0.18, 1, 0.34, 1) forwards;
      }

      .slide-tight {
        gap: clamp(0.6rem, 1.2vw, 1rem);
      }

      .slide-tight .headline {
        font-size: clamp(2rem, 4.1vw, 3.2rem);
        max-width: 19ch;
      }

      .slide-tight .execution-layout {
        gap: 0.5rem;
      }

      .slide-tight .phase-lane {
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 0.5rem;
      }

      .slide-tight .phase-block {
        padding: 0.68rem;
      }

      .slide-tight .phase-heading {
        font-size: 0.94rem;
      }

      .slide-tight .phase-detail,
      .slide-tight .friction-list li,
      .slide-tight .stack-list li {
        font-size: 0.74rem;
        line-height: 1.3;
      }

      .slide-tight .content-card {
        padding: 0.9rem;
      }

      .slide-tight .card-title {
        font-size: clamp(1.06rem, 1.55vw, 1.38rem);
      }

      @keyframes slide-in {
        from {
          opacity: 0;
          transform: translateY(26px);
        }

        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .eyebrow {
        margin: 0;
        font-family: var(--font-mono);
        font-size: var(--small-size);
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.19em;
        color: var(--active-accent);
      }

      .headline {
        margin: 0;
        max-width: 16.5ch;
        font-family: var(--font-display);
        font-size: var(--title-size);
        font-weight: 700;
        letter-spacing: -0.022em;
        line-height: 0.95;
        text-wrap: balance;
      }

      .lead,
      .subhead {
        margin: 0;
        max-width: 62ch;
        color: var(--ink-body);
        font-size: clamp(1rem, 1.55vw, 1.34rem);
        line-height: 1.5;
        text-wrap: pretty;
      }

      .pill-row {
        display: flex;
        flex-wrap: wrap;
        gap: 0.6rem;
      }

      .pill {
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.16);
        background: rgba(255, 255, 255, 0.05);
        padding: 0.4rem 0.9rem;
        font-family: var(--font-mono);
        font-size: var(--small-size);
        letter-spacing: 0.02em;
        color: var(--ink-body);
        backdrop-filter: blur(10px);
      }

      .logo-strip {
        margin-top: 0.5rem;
        display: flex;
        flex-wrap: wrap;
        gap: 0.8rem;
        align-items: center;
      }

      .logo-card {
        min-width: 170px;
        height: 60px;
        border-radius: 14px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        background: rgba(255, 255, 255, 0.93);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.26);
        display: grid;
        place-items: center;
        padding: 0.75rem 1.1rem;
      }

      .logo-card img {
        width: auto;
        height: auto;
        max-width: 100%;
        max-height: 40px;
        object-fit: contain;
      }

      .card-surface,
      .content-card,
      .metric-card,
      .vision-card,
      .impact-card,
      .partner-card,
      .journey-step,
      .phase-block,
      .stat-tile,
      .prompt-strip {
        border: 1px solid var(--card-border);
        background: var(--card-bg);
        box-shadow: var(--card-shadow);
        border-radius: 18px;
        backdrop-filter: blur(12px);
      }

      .card-label,
      .metric-label {
        margin: 0;
        font-family: var(--font-mono);
        font-size: var(--small-size);
        letter-spacing: 0.12em;
        text-transform: uppercase;
        color: var(--active-accent);
      }

      .card-title,
      .metric-value {
        margin: 0;
        font-family: var(--font-display);
        font-size: var(--h3-size);
        font-weight: 700;
        letter-spacing: -0.02em;
        line-height: 1.1;
      }

      .card-text,
      .metric-text,
      .impact-text {
        margin: 0;
        color: var(--ink-muted);
        font-size: var(--body-size);
        line-height: 1.5;
      }

      .hero-stage {
        display: grid;
        grid-template-columns: 1.2fr 0.8fr;
        gap: clamp(1rem, 2.4vw, 2.2rem);
        align-items: center;
      }

      .hero-copy {
        display: grid;
        gap: 0.85rem;
      }

      .hero-brief {
        border: 1px solid rgba(255, 255, 255, 0.18);
        border-radius: 22px;
        background:
          radial-gradient(circle at 82% 18%, rgba(0, 229, 255, 0.16), transparent 54%),
          rgba(10, 20, 36, 0.8);
        box-shadow: 0 20px 42px rgba(0, 0, 0, 0.42);
        padding: 1.2rem;
        display: grid;
        gap: 1rem;
      }

      .hero-list {
        margin: 0;
        padding: 0;
        display: grid;
        gap: 0.68rem;
        list-style: none;
      }

      .hero-list li {
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.14);
        background: rgba(255, 255, 255, 0.04);
        padding: 0.7rem 0.75rem;
        color: var(--ink-muted);
        font-size: 0.88rem;
      }

      .hero-list strong {
        display: block;
        color: var(--ink-bright);
        font-family: var(--font-mono);
        font-size: 0.7rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        margin-bottom: 0.25rem;
      }

      .challenge-layout {
        display: grid;
        grid-template-columns: 1.24fr 0.76fr;
        gap: var(--element-gap);
      }

      .content-card {
        padding: 1.2rem 1.3rem;
        display: grid;
        gap: 0.8rem;
      }

      .friction-list {
        margin: 0;
        padding: 0;
        display: grid;
        gap: 0.66rem;
        list-style: none;
      }

      .friction-list li {
        position: relative;
        border-left: 2px solid rgba(255, 255, 255, 0.12);
        padding-left: 0.75rem;
        color: var(--ink-muted);
        font-size: 0.93rem;
        line-height: 1.36;
      }

      .friction-list strong {
        display: block;
        color: var(--ink-bright);
        font-family: var(--font-mono);
        font-size: 0.7rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        margin-bottom: 0.2rem;
      }

      .metric-rail {
        display: grid;
        gap: 0.75rem;
      }

      .metric-node,
      .signal-card {
        padding: 1rem;
        border-radius: 16px;
        border: 1px solid rgba(255, 255, 255, 0.15);
        background: rgba(10, 19, 36, 0.78);
        box-shadow: var(--card-shadow);
      }

      .metric-number {
        margin: 0.35rem 0 0.4rem;
        font-family: var(--font-display);
        font-size: clamp(1.6rem, 2.45vw, 2.35rem);
        line-height: 1;
        letter-spacing: -0.02em;
      }

      .signal-list {
        margin: 0.55rem 0 0;
        padding-left: 1rem;
        display: grid;
        gap: 0.34rem;
        color: var(--ink-muted);
        font-size: 0.82rem;
      }

      .vision-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: var(--element-gap);
      }

      .vision-card {
        position: relative;
        overflow: hidden;
        padding: 1.15rem 1.15rem 1.1rem;
        display: grid;
        gap: 0.6rem;
      }

      .vision-card::after {
        content: "";
        position: absolute;
        inset: auto auto 0 0;
        width: 100%;
        height: 2px;
        background: linear-gradient(90deg, var(--active-accent), transparent 70%);
        opacity: 0.5;
      }

      .vision-index {
        font-family: var(--font-mono);
        font-size: 0.7rem;
        letter-spacing: 0.12em;
        color: var(--active-accent);
      }

      .platform-scaffold {
        display: grid;
        grid-template-columns: 1fr 1.35fr 1fr;
        gap: 1rem;
        align-items: center;
      }

      .layer-col {
        display: grid;
        gap: 0.7rem;
      }

      .layer-tag {
        margin: 0;
        font-family: var(--font-mono);
        font-size: 0.72rem;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        color: var(--active-accent);
      }

      .node-card {
        border-radius: 14px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(255, 255, 255, 0.045);
        padding: 0.88rem;
        color: var(--ink-muted);
        font-size: 0.86rem;
        line-height: 1.35;
      }

      .node-card strong {
        display: block;
        margin-bottom: 0.26rem;
        color: var(--ink-bright);
        font-family: var(--font-mono);
        font-size: 0.68rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
      }

      .center-hub {
        border-radius: 21px;
        border: 1px solid color-mix(in srgb, var(--active-accent) 72%, white 8%);
        background:
          radial-gradient(circle at 86% 18%, rgba(0, 229, 255, 0.18) 0%, transparent 48%),
          rgba(9, 18, 33, 0.85);
        box-shadow: 0 0 52px rgba(0, 229, 255, 0.14);
        padding: 1.3rem;
        display: grid;
        gap: 0.85rem;
      }

      .hub-title {
        margin: 0;
        font-family: var(--font-display);
        font-size: clamp(1.22rem, 2.3vw, 1.75rem);
        font-weight: 700;
        line-height: 1.1;
      }

      .hub-list {
        margin: 0;
        padding-left: 1rem;
        display: grid;
        gap: 0.45rem;
        color: var(--ink-muted);
        font-size: 0.89rem;
      }

      .criteria-row {
        display: flex;
        flex-wrap: wrap;
        gap: 0.42rem;
      }

      .criteria-chip {
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.19);
        background: rgba(255, 255, 255, 0.05);
        padding: 0.3rem 0.66rem;
        font-family: var(--font-mono);
        font-size: 0.66rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
      }

      .journey-quote {
        margin: 0;
        max-width: 37ch;
        font-family: var(--font-serif);
        font-size: clamp(1.55rem, 3.3vw, 2.45rem);
        font-style: italic;
        line-height: 1.07;
        letter-spacing: -0.01em;
        color: #f4f8ff;
        border-left: 4px solid var(--active-accent);
        padding-left: 0.86rem;
      }

      .journey-track {
        display: grid;
        grid-template-columns: repeat(5, minmax(0, 1fr));
        gap: 0.62rem;
      }

      .journey-step {
        padding: 0.85rem;
        display: grid;
        gap: 0.45rem;
      }

      .step-num {
        margin: 0;
        font-family: var(--font-mono);
        font-size: 0.68rem;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        color: var(--active-accent);
      }

      .step-title {
        margin: 0;
        font-family: var(--font-display);
        font-size: 1.1rem;
        letter-spacing: -0.01em;
      }

      .step-text {
        margin: 0;
        font-size: 0.85rem;
        line-height: 1.4;
        color: var(--ink-muted);
      }

      .execution-layout {
        display: grid;
        grid-template-columns: 1.08fr 0.92fr;
        gap: var(--element-gap);
      }

      .phase-lane {
        display: grid;
        gap: 0.62rem;
      }

      .phase-block {
        padding: 0.86rem;
        display: grid;
        gap: 0.35rem;
      }

      .phase-window {
        margin: 0;
        font-family: var(--font-mono);
        color: var(--active-accent);
        text-transform: uppercase;
        letter-spacing: 0.12em;
        font-size: 0.64rem;
      }

      .phase-heading {
        margin: 0;
        font-family: var(--font-display);
        font-size: 1.06rem;
      }

      .phase-detail {
        margin: 0;
        color: var(--ink-muted);
        font-size: 0.82rem;
        line-height: 1.36;
      }

      .execution-side {
        display: grid;
        gap: 0.65rem;
      }

      .stack-list {
        margin: 0;
        padding: 0;
        list-style: none;
        display: grid;
        gap: 0.46rem;
      }

      .stack-list li {
        border-radius: 10px;
        border: 1px dashed rgba(255, 255, 255, 0.22);
        padding: 0.54rem 0.6rem;
        color: var(--ink-muted);
        font-size: 0.8rem;
      }

      .stack-list strong {
        display: block;
        color: var(--ink-bright);
        font-family: var(--font-mono);
        font-size: 0.65rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        margin-bottom: 0.18rem;
      }

      .stats-row {
        display: grid;
        grid-template-columns: 1.35fr 1fr 1fr 1fr;
        gap: 0.62rem;
      }

      .stat-tile {
        padding: 0.86rem;
      }

      .stat-tile strong {
        display: block;
        margin-bottom: 0.22rem;
        font-family: var(--font-display);
        font-size: clamp(1.15rem, 2.25vw, 1.9rem);
        letter-spacing: -0.02em;
        color: var(--active-accent);
      }

      .stat-tile p {
        margin: 0;
        color: var(--ink-muted);
        font-size: 0.8rem;
        line-height: 1.35;
      }

      .partner-layout {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: var(--element-gap);
      }

      .partner-card {
        padding: 1rem;
        display: grid;
        gap: 0.5rem;
      }

      .partner-list {
        margin: 0;
        padding: 0;
        list-style: none;
        display: grid;
        gap: 0.42rem;
      }

      .partner-list li {
        border-left: 2px solid rgba(255, 255, 255, 0.14);
        padding-left: 0.56rem;
        color: var(--ink-muted);
        font-size: 0.82rem;
        line-height: 1.33;
      }

      .prompt-strip {
        padding: 0.95rem;
        display: grid;
        gap: 0.56rem;
      }

      .prompt-list {
        display: flex;
        flex-wrap: wrap;
        gap: 0.45rem;
      }

      .prompt-pill {
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        background: rgba(255, 255, 255, 0.04);
        padding: 0.33rem 0.72rem;
        font-family: var(--font-mono);
        font-size: 0.62rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: var(--ink-body);
      }

      .closing-layout {
        text-align: center;
        align-items: center;
      }

      .closing-layout .headline {
        margin-inline: auto;
      }

      .closing-layout .lead {
        margin-inline: auto;
      }

      .closing-grid {
        width: min(1040px, 100%);
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: var(--element-gap);
      }

      .impact-card {
        padding: 1.05rem;
        text-align: left;
        display: grid;
        gap: 0.46rem;
      }

      .closing-actions {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 0.42rem;
      }

      .action-pill {
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.24);
        padding: 0.35rem 0.72rem;
        font-family: var(--font-mono);
        font-size: 0.64rem;
        color: var(--ink-body);
      }

      .chrome {
        position: fixed;
        inset: 0;
        z-index: 3;
        pointer-events: none;
      }

      .progress {
        position: absolute;
        top: 1.1rem;
        left: 1.1rem;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.16);
        background: rgba(7, 16, 31, 0.72);
        padding: 0.4rem 0.8rem;
        font-family: var(--font-mono);
        font-size: 0.67rem;
        color: var(--active-accent);
        backdrop-filter: blur(8px);
      }

      .nav-dots {
        position: absolute;
        right: 1.2rem;
        top: 50%;
        transform: translateY(-50%);
        display: grid;
        gap: 0.52rem;
        pointer-events: auto;
      }

      .nav-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        border: 2px solid rgba(255, 255, 255, 0.24);
        background: transparent;
        cursor: pointer;
        transition: all 0.22s ease;
      }

      .nav-dot.active {
        background: var(--active-accent);
        border-color: var(--active-accent);
        transform: scale(1.36);
      }

      .keyboard-hint {
        position: absolute;
        bottom: 1.2rem;
        left: 50%;
        transform: translateX(-50%);
        font-family: var(--font-mono);
        font-size: 0.62rem;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.45);
      }

      @media (max-width: 1200px) {
        .headline {
          max-width: 19ch;
        }

        .hero-stage,
        .challenge-layout,
        .execution-layout,
        .platform-scaffold,
        .partner-layout,
        .journey-track,
        .closing-grid {
          grid-template-columns: 1fr;
        }

        .vision-grid {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }

        .stats-row {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }

        .slide {
          overflow-y: auto;
        }

        .slide-tight .phase-lane {
          grid-template-columns: 1fr;
        }
      }

      @media (max-width: 840px) {
        :root {
          --slide-padding: clamp(0.9rem, 5vw, 1.45rem);
          --title-size: clamp(1.95rem, 7.8vw, 2.85rem);
          --h2-size: clamp(1.45rem, 5.7vw, 2.15rem);
          --body-size: clamp(0.92rem, 3.35vw, 1rem);
        }

        .slide {
          scroll-snap-align: none;
          height: auto;
          min-height: 100dvh;
        }

        .slide-content {
          overflow: visible;
          max-height: none;
        }

        .vision-grid,
        .stats-row,
        .closing-grid {
          grid-template-columns: 1fr;
        }

        .nav-dots,
        .keyboard-hint {
          display: none;
        }
      }

      @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
          animation-duration: 0.01ms !important;
          transition-duration: 0.01ms !important;
        }

        #bloom-layer {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <div id="grain-layer" style="position: fixed; inset: 0; pointer-events: none; z-index: 10; opacity: 0.04; background-image: url('data:image/svg+xml,%3Csvg viewBox=\'0 0 200 200\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cfilter id=\'noise\'%3E%3CfeTurbulence type=\'fractalNoise\' baseFrequency=\'0.65\' numOctaves=\'3\' stitchTiles=\'stitch\'/%3E%3C/filter%3E%3Crect width=\'100%25\' height=\'100%25\' filter=\'url(%23noise)\'/%3E%3C/svg%3E');"></div>
    <canvas id="constellation" aria-hidden="true"></canvas>
    <canvas id="bloom-layer" aria-hidden="true"></canvas>

    <div class="chrome" aria-hidden="true">
      <div id="progressText" class="progress">Slide 1 / 8</div>
      <div id="navDots" class="nav-dots"></div>
      <div class="keyboard-hint">Arrow keys / wheel / swipe</div>
    </div>

    <main id="deck">
      <section
        id="slide-1"
        class="slide"
        data-slide="1"
        data-slide-theme="hero"
      >
        <div class="slide-content hero-stage">
          <div class="hero-copy">
            <p class="eyebrow">
              Project Briefing | Potential Strategic and Technical Collaborators
            </p>
            <h1 class="headline">
              NECC: Building the Nordic Circular Construction Engine
            </h1>
            <p class="lead">
              A focused overview of the market gap, the platform architecture,
              and the collaboration model needed to move circular construction
              from isolated pilots to repeatable delivery.
            </p>
            <div class="pill-row">
              <span class="pill">Nordic Ecosystem for Circular Construction</span>
              <span class="pill">8-slide briefing</span>
              <span class="pill">Updated: 13 Feb 2026</span>
            </div>
          </div>
          <aside class="hero-brief">
            <p class="card-label">Reading frame</p>
            <ul class="hero-list">
              <li>
                <strong>Audience</strong>
                Decision-makers evaluating strategic and technical partnership
                fit.
              </li>
              <li>
                <strong>Focus</strong>
                Market friction, platform model, delivery phases, and practical
                collaboration structure.
              </li>
              <li>
                <strong>Outcome</strong>
                Shared confidence on scope, architecture direction, and first
                implementation steps.
              </li>
            </ul>
            <div class="logo-strip" aria-label="Project logos">
              <div class="logo-card">
                <img
                  src="/shares/assets/nordic-circular-hotspot.svg"
                  alt="Nordic Circular Hotspot logo"
                />
              </div>
              <div class="logo-card">
                <img
                  src="/shares/assets/natural-state-logo.webp"
                  alt="Natural State logo"
                />
              </div>
            </div>
          </aside>
        </div>
      </section>

      <section
        id="slide-2"
        class="slide"
        data-slide="2"
        data-slide-theme="data"
      >
        <div class="slide-content">
          <p class="eyebrow">Challenge and Timing</p>
          <h2 class="headline">Why this matters now</h2>
          <div class="challenge-layout">
            <article class="content-card">
              <p class="card-label">Core market frictions</p>
              <h3 class="card-title">
                Circular intent is rising, but execution remains fragmented
              </h3>
              <ul class="friction-list">
                <li>
                  <strong>Supply-demand disconnection</strong>
                  Buyers and suppliers still struggle to find each other at
                  Nordic scale.
                </li>
                <li>
                  <strong>Low trust and weak comparability</strong>
                  Circular options are often harder to evaluate against linear
                  alternatives.
                </li>
                <li>
                  <strong>Regulatory and language fragmentation</strong>
                  Cross-border scaling remains operationally heavy.
                </li>
                <li>
                  <strong>Financing complexity</strong>
                  Teams lack a single place to navigate grants and incentives.
                </li>
              </ul>
            </article>
            <aside class="metric-rail">
              <article class="metric-node">
                <p class="metric-label">Expected policy pressure</p>
                <p class="metric-number">23-24%</p>
                <p class="metric-text">
                  EU-aligned circularity level expected in construction by
                  2030, with 2026 as a critical policy year.
                </p>
              </article>
              <article class="metric-node">
                <p class="metric-label">Current Nordic baseline</p>
                <p class="metric-number">5-8%</p>
                <p class="metric-text">
                  Current circularity range in Nordic construction and property
                  value chains.
                </p>
              </article>
              <article class="signal-card">
                <p class="card-label">2026 urgency signals</p>
                <ul class="signal-list">
                  <li>Higher CSRD pressure in procurement workflows</li>
                  <li>Public buyers asking for stronger comparability data</li>
                  <li>Supplier readiness exists, but discovery is weak</li>
                </ul>
              </article>
            </aside>
          </div>
        </div>
      </section>

      <section
        id="slide-3"
        class="slide"
        data-slide="3"
        data-slide-theme="aspiration"
      >
        <div class="slide-content">
          <p class="eyebrow">Vision 2030</p>
          <h2 class="headline">The outcome NECC is designed to produce</h2>
          <p class="lead">
            Move from fragmented circular initiatives to shared Nordic
            acceleration infrastructure, using existing pre-project momentum as
            the launch platform.
          </p>
          <div class="vision-grid">
            <article class="vision-card">
              <span class="vision-index">01</span>
              <p class="card-label">Demand side</p>
              <h3 class="card-title">Double circular ambition in projects</h3>
              <p class="impact-text">
                Property owners, developers, and architects increase circular
                requirements in real procurement.
              </p>
            </article>
            <article class="vision-card">
              <span class="vision-index">02</span>
              <p class="card-label">Supply side</p>
              <h3 class="card-title">50 companies scale across borders</h3>
              <p class="impact-text">
                Nordic circular suppliers grow turnover through qualified
                cross-border visibility.
              </p>
            </article>
            <article class="vision-card">
              <span class="vision-index">03</span>
              <p class="card-label">Ecosystem</p>
              <h3 class="card-title">Shared coordination becomes practical</h3>
              <p class="impact-text">
                Owners, suppliers, advisors, and public actors align on clearer
                pathways and execution data.
              </p>
            </article>
            <article class="vision-card">
              <span class="vision-index">04</span>
              <p class="card-label">Policy</p>
              <h3 class="card-title">Nordic ambition aligns around 2030 goals</h3>
              <p class="impact-text">
                Market evidence supports stronger circular requirements across
                countries.
              </p>
            </article>
          </div>
        </div>
      </section>

      <section
        id="slide-4"
        class="slide"
        data-slide="4"
        data-slide-theme="blueprint"
      >
        <div class="slide-content">
          <p class="eyebrow">Platform Blueprint</p>
          <h2 class="headline">
            What we are building: a market accelerator platform
          </h2>
          <p class="lead">
            NECC connects high-need buyers with trusted circular suppliers and
            makes discovery, comparison, and funding pathways operational.
          </p>
          <div class="platform-scaffold">
            <div class="layer-col">
              <p class="layer-tag">Demand side</p>
              <article class="node-card">
                <strong>Property owners and project clients</strong>
                KLP, Entra, Veidekke, AF Gruppen, municipalities, and public
                procurement teams.
              </article>
              <article class="node-card">
                <strong>High-need buyers</strong>
                Organizations under ESG and CSRD pressure with immediate
                circular sourcing gaps.
              </article>
            </div>

            <article class="center-hub">
              <p class="card-label">NECC Core</p>
              <h3 class="hub-title">Market Accelerator Platform</h3>
              <ul class="hub-list">
                <li>Catalog of 50-100 circular solutions</li>
                <li>AI search (Go Circular) matched to project context</li>
                <li>Funding map and deal pathways</li>
                <li>Value-chain intelligence and regulatory guidance</li>
              </ul>
              <div class="criteria-row">
                <span class="criteria-chip">Affordability</span>
                <span class="criteria-chip">Availability</span>
                <span class="criteria-chip">Profitability</span>
              </div>
            </article>

            <div class="layer-col">
              <p class="layer-tag">Supply side</p>
              <article class="node-card">
                <strong>Circular products and services</strong>
                Material reuse, timber, steel, low-carbon components.
              </article>
              <article class="node-card">
                <strong>Ecosystem partners</strong>
                Nordic Circular Hotspot (owner), Natural State (host).
              </article>
            </div>
          </div>
        </div>
      </section>

      <section
        id="slide-5"
        class="slide"
        data-slide="5"
        data-slide-theme="narrative"
      >
        <div class="slide-content">
          <p class="eyebrow">User Flow</p>
          <h2 class="headline">How it works in a real project journey</h2>
          <p class="journey-quote">
            "I need circular facade solutions for a project in Western Sweden.
            Show viable suppliers and funding paths."
          </p>
          <div class="journey-track">
            <article class="journey-step">
              <p class="step-num">Step 1</p>
              <h3 class="step-title">Project brief</h3>
              <p class="step-text">
                Capture location, building type, and circular ambition level.
              </p>
            </article>
            <article class="journey-step">
              <p class="step-num">Step 2</p>
              <h3 class="step-title">AI search</h3>
              <p class="step-text">
                Go Circular identifies candidate products and suppliers by fit.
              </p>
            </article>
            <article class="journey-step">
              <p class="step-num">Step 3</p>
              <h3 class="step-title">Comparison</h3>
              <p class="step-text">
                Compare options on circular attributes and availability.
              </p>
            </article>
            <article class="journey-step">
              <p class="step-num">Step 4</p>
              <h3 class="step-title">Guidance</h3>
              <p class="step-text">
                Add country-specific regulation, incentives, and grant context.
              </p>
            </article>
            <article class="journey-step">
              <p class="step-num">Step 5</p>
              <h3 class="step-title">Activation</h3>
              <p class="step-text">
                Connect buyer and supplier with clear pilot execution actions.
              </p>
            </article>
          </div>
        </div>
      </section>

      <section
        id="slide-6"
        class="slide"
        data-slide="6"
        data-slide-theme="architecture"
      >
        <div class="slide-content slide-tight">
          <p class="eyebrow">Technical Confidence</p>
          <h2 class="headline">
            Execution model: phased build with proven pre-project evidence
          </h2>
          <div class="execution-layout">
            <div class="phase-lane">
              <article class="phase-block">
                <p class="phase-window">M1-M6 | Foundation</p>
                <h3 class="phase-heading">Schema and catalog MVP</h3>
                <p class="phase-detail">
                  Shared schema, first catalog ingestion, baseline search.
                </p>
              </article>
              <article class="phase-block">
                <p class="phase-window">M4-M12 | Integrations</p>
                <h3 class="phase-heading">Supplier onboarding and coverage</h3>
                <p class="phase-detail">
                  Expand coverage, onboard suppliers, connect ecosystem data.
                </p>
              </article>
              <article class="phase-block">
                <p class="phase-window">M12-M24 | AI and productization</p>
                <h3 class="phase-heading">Matching, reporting, paid features</h3>
                <p class="phase-detail">
                  Launch context ranking, reporting, and paid workflows.
                </p>
              </article>
              <article class="phase-block">
                <p class="phase-window">M24-M36 | Scale</p>
                <h3 class="phase-heading">Regional expansion and operations</h3>
                <p class="phase-detail">
                  Stabilize operations and scale supplier participation.
                </p>
              </article>
            </div>
            <div class="execution-side">
              <article class="content-card">
                <p class="card-label">Evidence base already in place</p>
                <h3 class="card-title">Public Circular Buildings pre-project</h3>
                <p class="card-text">
                  This initiative starts with a documented foundation, not a
                  greenfield assumption.
                </p>
                <ul class="friction-list">
                  <li>
                    <strong>80 projects</strong>
                    documented across Nordic construction contexts.
                  </li>
                  <li>
                    <strong>48 case studies</strong>
                    with structured qualitative and quantitative insight.
                  </li>
                  <li>
                    <strong>5 countries</strong>
                    already represented in the knowledge base.
                  </li>
                </ul>
              </article>
              <article class="content-card">
                <p class="card-label">Core architecture layers</p>
                <ul class="stack-list">
                  <li>
                    <strong>Experience layer</strong>
                    Next.js App Router interface for buyers and suppliers.
                  </li>
                  <li>
                    <strong>Integration layer</strong>
                    API gateway connecting registries and ecosystem data.
                  </li>
                  <li>
                    <strong>Data layer</strong>
                    PostgreSQL, full-text search, and structured product
                    catalog.
                  </li>
                  <li>
                    <strong>Intelligence layer</strong>
                    AI parsing, matching, and recommendation workflows.
                  </li>
                </ul>
              </article>
            </div>
          </div>
        </div>
      </section>

      <section
        id="slide-7"
        class="slide"
        data-slide="7"
        data-slide-theme="dialogue"
      >
        <div class="slide-content">
          <p class="eyebrow">Partnership Dialogue</p>
          <h2 class="headline">
            What we want to define with a technical collaboration partner
          </h2>
          <div class="partner-layout">
            <article class="partner-card">
              <p class="card-label">Partnership fit</p>
              <h3 class="card-title">Clarify role and value contribution</h3>
              <ul class="partner-list">
                <li>Map where your strengths accelerate delivery speed.</li>
                <li>Define where ownership should be shared or delegated.</li>
                <li>Align on collaboration model from day one.</li>
              </ul>
            </article>
            <article class="partner-card">
              <p class="card-label">Early phase alignment</p>
              <h3 class="card-title">Set architecture and build boundaries</h3>
              <ul class="partner-list">
                <li>Co-define technical boundaries and implementation lanes.</li>
                <li>Sequence MVP milestones with clear quality gates.</li>
                <li>Establish shared delivery and review rhythm.</li>
              </ul>
            </article>
            <article class="partner-card">
              <p class="card-label">Operating cadence</p>
              <h3 class="card-title">Keep execution transparent over time</h3>
              <ul class="partner-list">
                <li>Run structured checkpoints on risks and dependencies.</li>
                <li>Review technical quality and roadmap tradeoffs jointly.</li>
                <li>Adapt scope as market evidence and adoption evolve.</li>
              </ul>
            </article>
          </div>
          <article class="prompt-strip">
            <p class="card-label">First workshop decision prompts</p>
            <div class="prompt-list">
              <span class="prompt-pill">Scope boundaries</span>
              <span class="prompt-pill">Data ownership</span>
              <span class="prompt-pill">MVP architecture</span>
              <span class="prompt-pill">Onboarding process</span>
              <span class="prompt-pill">Pilot activation criteria</span>
            </div>
          </article>
        </div>
      </section>

      <section
        id="slide-8"
        class="slide"
        data-slide="8"
        data-slide-theme="closing"
      >
        <div class="slide-content closing-layout">
          <p class="eyebrow">Impact and Action</p>
          <h1 class="headline">Higher circularity where decisions are made</h1>
          <p class="lead">
            NECC turns scattered circular intent into a clear operating system
            for procurement decisions, supplier growth, and measurable Nordic
            transition outcomes.
          </p>
          <div class="closing-grid">
            <article class="impact-card">
              <p class="card-label">Industry impact</p>
              <h3 class="card-title">Operational circularity</h3>
              <p class="impact-text">
                Better match quality and faster decision cycles reduce friction
                in real project execution.
              </p>
            </article>
            <article class="impact-card">
              <p class="card-label">Business impact</p>
              <h3 class="card-title">Nordic supplier growth</h3>
              <p class="impact-text">
                Trusted discovery and cross-border visibility open scale paths
                for circular suppliers.
              </p>
            </article>
            <article class="impact-card">
              <p class="card-label">Collaboration next step</p>
              <h3 class="card-title">Joint architecture workshop</h3>
              <p class="impact-text">
                Align on MVP boundaries, delivery cadence, and technical
                governance for phase 1.
              </p>
            </article>
          </div>
          <div class="closing-actions" aria-label="Suggested action tracks">
            <span class="action-pill">Catalog onboarding</span>
            <span class="action-pill">Architecture framing</span>
            <span class="action-pill">Pilot shortlist</span>
            <span class="action-pill">Data partnership map</span>
          </div>
        </div>
      </section>
    </main>

    <script>
      const DECK_META = {
        title: "NECC Project Brief",
        version: "1.3.0",
        updated: "2026-02-13",
      };

      const SLIDES = [
        {
          id: "slide-1",
          title: "Cover",
          accent: "#00e5ff",
          formation: "constellation",
          lines: true,
        },
        {
          id: "slide-2",
          title: "Challenge",
          accent: "#f6ad55",
          formation: "gravity-wells",
          lines: false,
        },
        {
          id: "slide-3",
          title: "Vision",
          accent: "#48bb78",
          formation: "orbitals",
          lines: true,
        },
        {
          id: "slide-4",
          title: "Platform",
          accent: "#00e5ff",
          formation: "wave-surface",
          lines: true,
        },
        {
          id: "slide-5",
          title: "Journey",
          accent: "#48bb78",
          formation: "curl-flow",
          lines: false,
        },
        {
          id: "slide-6",
          title: "Technical",
          accent: "#f56565",
          formation: "vortex-column",
          lines: false,
        },
        {
          id: "slide-7",
          title: "Partners",
          accent: "#00e5ff",
          formation: "flock",
          lines: true,
        },
        {
          id: "slide-8",
          title: "Impact",
          accent: "#f6ad55",
          formation: "burst",
          lines: false,
        },
      ];

      const canvas = document.getElementById("constellation");
      const bloomCanvas = document.getElementById("bloom-layer");
      const reducedMotion = window.matchMedia(
        "(prefers-reduced-motion: reduce)",
      ).matches;

      let width = 0;
      let height = 0;
      let dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      let currentSlide = 0;
      let gl = null;
      let bloomGl = null;
      let particleProgram = null;
      let lineProgram = null;
      let bloomProgram = null;
      let PARTICLE_COUNT = 1600;
      let fpsDropped = false;

      const pointer = { x: 0, y: 0, active: false, timeout: null };

      const positions = { buf: null, data: null };
      const velocities = { buf: null, data: null };
      const targets = { buf: null, data: null };
      const sizes = { buf: null, data: null };
      const seeds = { buf: null, data: null };
      let linePositions = { buf: null, data: null };

      let currentColor = [0, 0.898, 1];
      let targetColor = [0, 0.898, 1];
      let linesEnabled = true;
      let targetLinesEnabled = true;
      let lastTime = 0;
      let frameCount = 0;
      let fpsAccum = 0;

      function hexToGL(hex) {
        const c = hex.replace("#", "");
        return [
          parseInt(c.substring(0, 2), 16) / 255,
          parseInt(c.substring(2, 4), 16) / 255,
          parseInt(c.substring(4, 6), 16) / 255,
        ];
      }

      function clamp(val, min, max) {
        return Math.max(min, Math.min(max, val));
      }

      function initWebGL() {
        gl = canvas.getContext("webgl", { antialias: true, alpha: false });
        if (!gl) return false;

        bloomGl = bloomCanvas.getContext("webgl", {
          antialias: false,
          alpha: true,
        });

        const vsSource = `
          attribute vec2 aPosition;
          attribute float aSize;
          attribute float aSeed;
          uniform vec2 uResolution;
          uniform float uTime;
          uniform float uDpr;
          varying float vAlpha;
          void main() {
            vec2 pos = (aPosition / uResolution) * 2.0 - 1.0;
            gl_Position = vec4(pos * vec2(1.0, -1.0), 0.0, 1.0);
            float pulse = 0.85 + 0.15 * sin(uTime * 1.5 + aSeed * 6.28);
            gl_PointSize = aSize * uDpr * pulse;
            vAlpha = 0.4 + 0.6 * sin(uTime * 0.8 + aSeed * 3.14);
          }
        `;

        const fsSource = `
          precision mediump float;
          uniform vec3 uColor;
          varying float vAlpha;
          void main() {
            float dist = distance(gl_PointCoord, vec2(0.5));
            if (dist > 0.5) discard;
            float soft = smoothstep(0.5, 0.42, dist);
            gl_FragColor = vec4(uColor, vAlpha * soft);
          }
        `;

        const lineVs = `
          attribute vec2 aPosition;
          uniform vec2 uResolution;
          void main() {
            vec2 pos = (aPosition / uResolution) * 2.0 - 1.0;
            gl_Position = vec4(pos * vec2(1.0, -1.0), 0.0, 1.0);
          }
        `;

        const lineFs = `
          precision mediump float;
          uniform vec3 uColor;
          uniform float uAlpha;
          void main() {
            gl_FragColor = vec4(uColor, uAlpha);
          }
        `;

        function createShader(gl, type, source) {
          const s = gl.createShader(type);
          gl.shaderSource(s, source);
          gl.compileShader(s);
          return s;
        }

        function createProgram(gl, vs, fs) {
          const p = gl.createProgram();
          gl.attachShader(p, createShader(gl, gl.VERTEX_SHADER, vs));
          gl.attachShader(p, createShader(gl, gl.FRAGMENT_SHADER, fs));
          gl.linkProgram(p);
          return p;
        }

        particleProgram = createProgram(gl, vsSource, fsSource);
        lineProgram = createProgram(gl, lineVs, lineFs);
        if (bloomGl) {
          bloomProgram = createProgram(bloomGl, vsSource, fsSource);
        }

        return true;
      }

      function initBuffers() {
        positions.data = new Float32Array(PARTICLE_COUNT * 2);
        velocities.data = new Float32Array(PARTICLE_COUNT * 2);
        targets.data = new Float32Array(PARTICLE_COUNT * 2);
        sizes.data = new Float32Array(PARTICLE_COUNT);
        seeds.data = new Float32Array(PARTICLE_COUNT);

        linePositions.data = new Float32Array(1200 * 4);

        for (let i = 0; i < PARTICLE_COUNT; i++) {
          positions.data[i * 2] = Math.random() * width;
          positions.data[i * 2 + 1] = Math.random() * height;
          velocities.data[i * 2] = (Math.random() - 0.5) * 40;
          velocities.data[i * 2 + 1] = (Math.random() - 0.5) * 40;
          sizes.data[i] = 1.2 + Math.random() * 2.4;
          seeds.data[i] = Math.random();
        }

        positions.buf = gl.createBuffer();
        velocities.buf = gl.createBuffer();
        sizes.buf = gl.createBuffer();
        seeds.buf = gl.createBuffer();
        linePositions.buf = gl.createBuffer();

        gl.bindBuffer(gl.ARRAY_BUFFER, sizes.buf);
        gl.bufferData(gl.ARRAY_BUFFER, sizes.data, gl.STATIC_DRAW);
        gl.bindBuffer(gl.ARRAY_BUFFER, seeds.buf);
        gl.bufferData(gl.ARRAY_BUFFER, seeds.data, gl.STATIC_DRAW);

        if (bloomGl) {
          positions.bloomBuf = bloomGl.createBuffer();
          sizes.bloomBuf = bloomGl.createBuffer();
          seeds.bloomBuf = bloomGl.createBuffer();
          bloomGl.bindBuffer(bloomGl.ARRAY_BUFFER, sizes.bloomBuf);
          bloomGl.bufferData(bloomGl.ARRAY_BUFFER, sizes.data, bloomGl.STATIC_DRAW);
          bloomGl.bindBuffer(bloomGl.ARRAY_BUFFER, seeds.bloomBuf);
          bloomGl.bufferData(bloomGl.ARRAY_BUFFER, seeds.data, bloomGl.STATIC_DRAW);
        }
      }

      function computeFormation(type) {
        for (let i = 0; i < PARTICLE_COUNT; i++) {
          const idx = i * 2;
          const t = i / PARTICLE_COUNT;
          let tx, ty;

          if (type === "constellation") {
            tx = Math.random() * width;
            ty = Math.random() * height;
          } else if (type === "gravity-wells") {
            const angle = t * Math.PI * 2 * 3;
            const radius = (0.1 + 0.4 * Math.random()) * Math.min(width, height);
            const cx = width * (0.3 + 0.4 * Math.floor(t * 3) / 2);
            const cy = height * 0.5;
            tx = cx + Math.cos(angle) * radius;
            ty = cy + Math.sin(angle) * radius;
          } else if (type === "orbitals") {
            const angle = t * Math.PI * 2;
            const radius = (0.2 + 0.15 * Math.random()) * Math.min(width, height);
            tx = width * 0.5 + Math.cos(angle) * radius;
            ty = height * 0.5 + Math.sin(angle) * radius;
          } else if (type === "wave-surface") {
            tx = t * width;
            ty = height * 0.5 + Math.sin(t * 10) * height * 0.2;
          } else if (type === "curl-flow") {
            tx = Math.random() * width;
            ty = Math.random() * height;
          } else if (type === "vortex-column") {
            tx = width * 0.5 + (Math.random() - 0.5) * 200;
            ty = t * height;
          } else if (type === "flock") {
            const group = Math.floor(t * 5);
            const gx = width * (0.2 + 0.6 * (group / 4));
            const gy = height * (0.2 + 0.6 * Math.random());
            tx = gx + (Math.random() - 0.5) * 300;
            ty = gy + (Math.random() - 0.5) * 300;
          } else if (type === "burst") {
            const angle = Math.random() * Math.PI * 2;
            const dist = Math.random() * Math.min(width, height) * 0.5;
            tx = width * 0.5 + Math.cos(angle) * dist;
            ty = height * 0.5 + Math.sin(angle) * dist;
          } else {
            tx = Math.random() * width;
            ty = Math.random() * height;
          }

          targets.data[idx] = tx;
          targets.data[idx + 1] = ty;
        }
      }

      function updatePhysics(t, dt) {
        const speed = 2.4;
        const friction = 0.92;

        for (let i = 0; i < PARTICLE_COUNT; i++) {
          const idx = i * 2;
          const ax = (targets.data[idx] - positions.data[idx]) * speed;
          const ay = (targets.data[idx + 1] - positions.data[idx + 1]) * speed;

          velocities.data[idx] = (velocities.data[idx] + ax * dt) * friction;
          velocities.data[idx + 1] = (velocities.data[idx + 1] + ay * dt) * friction;

          positions.data[idx] += velocities.data[idx];
          positions.data[idx + 1] += velocities.data[idx + 1];

          if (pointer.active) {
            const dx = positions.data[idx] - pointer.x;
            const dy = positions.data[idx + 1] - pointer.y;
            const d2 = dx * dx + dy * dy;
            if (d2 < 15000) {
              const force = (1 - d2 / 15000) * 40;
              positions.data[idx] += (dx / Math.sqrt(d2)) * force;
              positions.data[idx + 1] += (dy / Math.sqrt(d2)) * force;
            }
          }
        }
      }

      function buildLines() {
        if (!linesEnabled || fpsDropped) return 0;

        const n = PARTICLE_COUNT;
        const stride = 6;
        const maxPairs = 1200;
        const threshold = 120;
        const thresholdSq = threshold * threshold;
        let seg = 0;

        for (let i = 0; i < n && seg < maxPairs; i += stride) {
          const ax = positions.data[i * 2];
          const ay = positions.data[i * 2 + 1];

          for (let j = i + stride; j < Math.min(n, i + stride * 16) && seg < maxPairs; j += stride) {
            const bx = positions.data[j * 2];
            const by = positions.data[j * 2 + 1];
            const dx = ax - bx;
            const dy = ay - by;
            if (dx * dx + dy * dy < thresholdSq) {
              const base = seg * 4;
              linePositions.data[base] = ax;
              linePositions.data[base + 1] = ay;
              linePositions.data[base + 2] = bx;
              linePositions.data[base + 3] = by;
              seg++;
            }
          }
        }
        return seg;
      }

      function renderParticles(context, program, posBuffer, sizeBuffer, seedBuffer, t) {
        context.useProgram(program);
        const posLoc = context.getAttribLocation(program, "aPosition");
        const sizeLoc = context.getAttribLocation(program, "aSize");
        const seedLoc = context.getAttribLocation(program, "aSeed");

        context.bindBuffer(context.ARRAY_BUFFER, posBuffer);
        context.bufferData(context.ARRAY_BUFFER, positions.data, context.DYNAMIC_DRAW);
        context.enableVertexAttribArray(posLoc);
        context.vertexAttribPointer(posLoc, 2, context.FLOAT, false, 0, 0);

        context.bindBuffer(context.ARRAY_BUFFER, sizeBuffer);
        context.enableVertexAttribArray(sizeLoc);
        context.vertexAttribPointer(sizeLoc, 1, context.FLOAT, false, 0, 0);

        context.bindBuffer(context.ARRAY_BUFFER, seedBuffer);
        context.enableVertexAttribArray(seedLoc);
        context.vertexAttribPointer(seedLoc, 1, context.FLOAT, false, 0, 0);

        const resLoc = context.getUniformLocation(program, "uResolution");
        const timeLoc = context.getUniformLocation(program, "uTime");
        const colorLoc = context.getUniformLocation(program, "uColor");
        const dprLoc = context.getUniformLocation(program, "uDpr");

        context.uniform2f(resLoc, width, height);
        context.uniform1f(timeLoc, t);
        context.uniform3f(colorLoc, currentColor[0], currentColor[1], currentColor[2]);
        context.uniform1f(dprLoc, dpr);

        context.drawArrays(context.POINTS, 0, PARTICLE_COUNT);
      }

      function renderLines(segCount, t) {
        if (segCount === 0) return;
        gl.useProgram(lineProgram);
        const posLoc = gl.getAttribLocation(lineProgram, "aPosition");
        gl.bindBuffer(gl.ARRAY_BUFFER, linePositions.buf);
        gl.bufferData(gl.ARRAY_BUFFER, linePositions.data, gl.DYNAMIC_DRAW);
        gl.enableVertexAttribArray(posLoc);
        gl.vertexAttribPointer(posLoc, 2, gl.FLOAT, false, 0, 0);

        const resLoc = gl.getUniformLocation(lineProgram, "uResolution");
        const colorLoc = gl.getUniformLocation(lineProgram, "uColor");
        const alphaLoc = gl.getUniformLocation(lineProgram, "uAlpha");

        gl.uniform2f(resLoc, width, height);
        gl.uniform3f(colorLoc, currentColor[0], currentColor[1], currentColor[2]);
        gl.uniform1f(alphaLoc, 0.12);

        gl.drawArrays(gl.LINES, 0, segCount * 2);
      }

      function render(t) {
        gl.viewport(0, 0, canvas.width, canvas.height);
        gl.clear(gl.COLOR_BUFFER_BIT);
        const segCount = linesEnabled ? buildLines() : 0;
        renderLines(segCount, t);
        renderParticles(gl, particleProgram, positions.buf, sizes.buf, seeds.buf, t);

        if (bloomGl && bloomProgram) {
          bloomGl.viewport(0, 0, bloomCanvas.width, bloomCanvas.height);
          bloomGl.clear(bloomGl.COLOR_BUFFER_BIT);
          renderParticles(bloomGl, bloomProgram, positions.bloomBuf, sizes.bloomBuf, seeds.bloomBuf, t);
        }
      }

      function resizeCanvas() {
        width = window.innerWidth;
        height = window.innerHeight;
        dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
        canvas.width = Math.floor(width * dpr);
        canvas.height = Math.floor(height * dpr);
        canvas.style.width = `${width}px`;
        canvas.style.height = `${height}px`;

        const bloomScale = 0.5;
        bloomCanvas.width = Math.floor(width * dpr * bloomScale);
        bloomCanvas.height = Math.floor(height * dpr * bloomScale);
        bloomCanvas.style.width = `${width}px`;
        bloomCanvas.style.height = `${height}px`;

        if (gl) {
          initBuffers();
          computeFormation(SLIDES[currentSlide].formation);
        }
      }

      function animate(now) {
        if (reducedMotion) return;
        const t = now * 0.001;
        const dt = lastTime ? Math.min(t - lastTime, 0.033) : 0.016;
        lastTime = t;

        frameCount++;
        fpsAccum += dt;
        if (fpsAccum >= 2.0) {
          const avgFps = frameCount / fpsAccum;
          if (avgFps < 42 && !fpsDropped) {
            fpsDropped = true;
            PARTICLE_COUNT = Math.floor(PARTICLE_COUNT * 0.6);
            initBuffers();
            computeFormation(SLIDES[currentSlide].formation);
          }
          frameCount = 0;
          fpsAccum = 0;
        }

        currentColor[0] += (targetColor[0] - currentColor[0]) * 0.03;
        currentColor[1] += (targetColor[1] - currentColor[1]) * 0.03;
        currentColor[2] += (targetColor[2] - currentColor[2]) * 0.03;
        linesEnabled = targetLinesEnabled;

        updatePhysics(t, dt);
        render(t);
        requestAnimationFrame(animate);
      }

      const slideElements = SLIDES.map(s => document.getElementById(s.id));
      const navDots = document.getElementById("navDots");
      const progressText = document.getElementById("progressText");

      function goToSlide(index) {
        const safeIndex = clamp(index, 0, SLIDES.length - 1);
        slideElements[safeIndex].scrollIntoView({
          behavior: reducedMotion ? "auto" : "smooth",
          block: "start"
        });
      }

      function setActiveSlide(index) {
        currentSlide = index;
        const slide = SLIDES[index];
        targetColor = hexToGL(slide.accent);
        targetLinesEnabled = slide.lines && !fpsDropped;
        document.documentElement.style.setProperty("--active-accent", slide.accent);

        if (gl) computeFormation(slide.formation);

        const dots = navDots.querySelectorAll("button");
        dots.forEach((dot, di) => dot.classList.toggle("active", di === index));
        progressText.textContent = `Slide ${index + 1} / ${SLIDES.length}`;
      }

      function buildNavigation() {
        SLIDES.forEach((slide, index) => {
          const button = document.createElement("button");
          button.className = "nav-dot";
          button.type = "button";
          button.addEventListener("click", () => goToSlide(index));
          navDots.appendChild(button);
        });
      }

      function setupObserver() {
        const observer = new IntersectionObserver((entries) => {
          for (const entry of entries) {
            if (entry.isIntersecting && entry.intersectionRatio > 0.57) {
              const index = slideElements.indexOf(entry.target);
              if (index >= 0) setActiveSlide(index);
            }
          }
        }, { threshold: [0.58, 0.85] });
        slideElements.forEach(s => observer.observe(s));
      }

      let wheelLocked = false;
      window.addEventListener("wheel", (e) => {
        if (Math.abs(e.deltaY) < 20) return;
        e.preventDefault();
        if (wheelLocked) return;
        wheelLocked = true;
        goToSlide(e.deltaY > 0 ? currentSlide + 1 : currentSlide - 1);
        setTimeout(() => { wheelLocked = false; }, 600);
      }, { passive: false });

      window.addEventListener("keydown", (e) => {
        if (["ArrowDown", "PageDown", " "].includes(e.key)) { e.preventDefault(); goToSlide(currentSlide + 1); }
        if (["ArrowUp", "PageUp"].includes(e.key)) { e.preventDefault(); goToSlide(currentSlide - 1); }
      });

      window.addEventListener("resize", resizeCanvas);
      buildNavigation();
      setupObserver();

      if (initWebGL()) {
        resizeCanvas();
        setActiveSlide(0);
        requestAnimationFrame(animate);
      }
    </script>
  </body>
</html>
